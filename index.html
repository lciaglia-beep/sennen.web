<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, minimum-scale=1.0">
    
    <title>SENNEN AGENCY | Presencia Sintética</title>
    <meta name="description" content="Creación de Activos Sintéticos y Clones Digitales. Sennen escala tu imagen con IA.">
    
    <meta property="og:title" content="Sennen | Presencia Sintética">
    <meta property="og:description" content="Impacto Visual y Activos IA.">
    <meta property="og:type" content="website">

    <!-- Preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%23050505'/%3E%3Ccircle cx='50' cy='50' r='15' fill='%23ffffff'/%3E%3C/svg%3E">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600&family=JetBrains+Mono:wght@400;500&family=Poppins:wght@800;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                        display: ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        black: '#050505',
                        white: '#ffffff',
                        offwhite: '#e5e5e5'
                    }
                }
            }
        }
    </script>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js" defer></script>
    <script src="https://unpkg.com/lucide@latest" defer></script>

    <style>
        :root { --glow-color: rgba(255, 255, 255, 0.15); }

        html { text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; }
        body { background-color: #050505; color: #ffffff; overflow-x: hidden; overscroll-behavior-y: none; }

        /* --- UTILS --- */
        .will-change-transform { will-change: transform; }
        .render-optimize { content-visibility: auto; contain-intrinsic-size: 1000px; }

        /* --- SECTIONS --- */
        .section-black { background-color: #050505; position: relative; z-index: 2; }

        /* --- DASHBOARD GRID --- */
        .dashboard-grid {
            display: grid; grid-template-columns: repeat(1, 1fr); gap: 1rem;
            width: 100%; max-width: 1920px; margin: 2rem auto 0; padding: 0 1rem;
            position: relative; z-index: 10;
        }
        @media (min-width: 640px) { .dashboard-grid { grid-template-columns: repeat(2, 1fr); padding: 0 1.5rem; } }
        @media (min-width: 1024px) { .dashboard-grid { grid-template-columns: repeat(3, 1fr); gap: 1.5rem; } }
        @media (min-width: 1600px) { .dashboard-grid { grid-template-columns: repeat(4, 1fr); gap: 2rem; } }

        .video-card {
            position: relative; width: 100%; aspect-ratio: 16/9; border-radius: 12px;
            overflow: hidden; background: #111; border: 1px solid rgba(255,255,255,0.08);
            transition: border-color 0.3s ease, transform 0.3s ease; cursor: pointer; transform: translateZ(0);
        }
        .video-placeholder {
            position: absolute; inset: 0; background: linear-gradient(45deg, #0a0a0a, #1a1a1a);
            display: flex; align-items: center; justify-content: center; z-index: 1;
        }
        .video-card video { width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 0.5s ease; position: relative; z-index: 2; }
        .video-card.loaded video { opacity: 1; }
        .video-card.loaded .video-placeholder { display: none; }
        @media (hover: hover) {
            .video-card:hover { transform: scale(1.02); z-index: 20; border-color: #ffffff; box-shadow: 0 10px 40px rgba(255, 255, 255, 0.05); }
        }

        /* --- GLOWS --- */
        .ambient-glow { 
            position: absolute; width: 600px; height: 600px; 
            background: radial-gradient(circle, var(--glow-color) 0%, rgba(0,0,0,0) 70%); 
            border-radius: 50%; filter: blur(80px); pointer-events: none; z-index: 0; opacity: 0.3; mix-blend-mode: screen; 
        }
        @media (max-width: 768px) { .ambient-glow { opacity: 0.15; width: 300px; height: 300px; } }
        .glow-top-left { top: -200px; left: -200px; }
        .glow-top-right { top: -200px; right: -200px; }
        .glow-middle-right { top: 50%; right: -300px; transform: translateY(-50%); }

        /* --- MENU OVERLAY (FORM) --- */
        #menu-overlay {
            position: fixed; inset: 0; background: rgba(5, 5, 5, 0.98); 
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            z-index: 9990; opacity: 0; pointer-events: none; transition: opacity 0.4s ease;
            overflow-y: auto; padding: 2rem 0;
        }
        #menu-overlay.active { opacity: 1; pointer-events: all; }
        
        .form-group { margin-bottom: 2.5rem; }
        .form-label { 
            display: block; font-family: 'Inter', sans-serif; font-weight: 500; 
            font-size: 0.85rem; color: #fff; margin-bottom: 1rem; 
            text-transform: uppercase; letter-spacing: 0.05em; 
        }
        
        .pill-checkbox input[type="checkbox"], .pill-radio input[type="radio"] { display: none; }
        .pill-label {
            display: inline-block; padding: 0.8rem 1.8rem; 
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.1); 
            border-radius: 0; /* Square/Minimalist look */
            cursor: pointer; transition: all 0.2s ease;
            font-size: 0.9rem; margin-right: 0.5rem; margin-bottom: 0.5rem; color: #888;
            font-family: 'JetBrains Mono', monospace;
        }
        .pill-label:hover { border-color: #fff; color: #fff; }
        .pill-checkbox input:checked + .pill-label, .pill-radio input:checked + .pill-label {
            background: #fff; color: #000; border-color: #fff; font-weight: 600;
        }
        .input-line {
            width: 100%; background: transparent; border: none; border-bottom: 1px solid #333;
            padding: 1rem 0; color: #fff; font-family: 'Inter', sans-serif; font-size: 1.5rem;
            outline: none; transition: border-color 0.3s; border-radius: 0; font-weight: 300;
        }
        .input-line:focus { border-color: #fff; }
        .input-line::placeholder { color: #333; }

        /* --- PRELOADER --- */
        #preloader { 
            position: fixed; inset: 0; background: #050505; z-index: 9999; 
            display: flex; justify-content: center; align-items: center; flex-direction: column; 
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }
        .loader-brand { font-family: 'Poppins', sans-serif; font-size: 2rem; font-weight: 800; color: white; letter-spacing: 0.1em; animation: pulse-slow 2s infinite; }
        @keyframes pulse-slow { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        /* --- ANIMATIONS --- */
        .reveal-up { opacity: 0; transform: translateY(30px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .reveal-up.active { opacity: 1; transform: translateY(0); }

        /* --- PHOTO GRID --- */
        .photo-grid-section { padding: 4rem 0; position: relative; z-index: 10; }
        .photo-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; max-width: 1400px; margin: 0 auto; padding: 0 1rem; }
        @media (min-width: 768px) { .photo-grid { grid-template-columns: repeat(4, 1fr); grid-auto-rows: 250px; gap: 1rem; } }
        .photo-item { position: relative; border-radius: 8px; overflow: hidden; background: #111; aspect-ratio: 1; }
        @media (min-width: 768px) { .photo-item { aspect-ratio: auto; height: 100%; } }
        .photo-item img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; opacity: 0; }
        .photo-item.loaded img { opacity: 1; }
        .photo-item:hover img { transform: scale(1.05); }
        @media (min-width: 768px) {
            .photo-item:nth-child(1) { grid-column: span 2; grid-row: span 2; }
            .photo-item:nth-child(4) { grid-column: span 2; }
            .photo-item:nth-child(5) { grid-row: span 2; }
            .photo-item:nth-child(8) { grid-column: span 2; grid-row: span 2; }
        }

        /* --- PARALLAX BOX --- */
        .parallax-box { 
            padding: 3rem 1.5rem; width: 100%; max-width: 900px; margin: 0 auto; 
            border-radius: 24px; text-align: center; background: rgba(20, 20, 20, 0.6); 
            border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
        }
        @media (min-width: 768px) { .parallax-box { padding: 5rem; border-radius: 40px; } }
        .parallax-quote { font-family: 'JetBrains Mono', monospace; font-size: 1rem; color: #ccc; border-left: 2px solid #fff; padding-left: 1.5rem; text-align: left; margin: 0 auto; max-width: 100%; }

        /* --- MODALS --- */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.95); z-index: 11000; display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none; transition: opacity 0.3s ease; }
        .modal-overlay.active { opacity: 1; pointer-events: all; }
        .modal-content-video { width: 100%; max-width: 1400px; aspect-ratio: 16/9; background: #000; position: relative; }
        .nav-btn { position: absolute; top: 50%; transform: translateY(-50%); color: white; background: rgba(255,255,255,0.1); width: 48px; height: 48px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 11001; backdrop-filter: blur(4px); }
        .nav-prev { left: 1rem; } .nav-next { right: 1rem; }
        .close-btn { position: absolute; top: 1.5rem; right: 1.5rem; color: white; cursor: pointer; z-index: 10002; }

        /* --- TITLE --- */
        .hero-title {
            font-family: 'Poppins', sans-serif; font-weight: 900; font-size: clamp(3.5rem, 16vw, 12rem);
            line-height: 0.9; letter-spacing: -0.04em; color: white; text-align: center; margin-bottom: 1.5rem;
            background: linear-gradient(180deg, #ffffff 0%, #666 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .menu-btn { cursor: pointer; color: white; z-index: 10000; position: relative; padding: 10px; }
        
        /* Form Scrollbar */
        #menu-overlay::-webkit-scrollbar { width: 6px; }
        #menu-overlay::-webkit-scrollbar-track { background: #000; }
        #menu-overlay::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }

        /* Full Screen Video */
        .full-screen-video-section {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
            background: #000;
        }
        .full-screen-video-section video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body class="opacity-0 transition-opacity duration-500">

    <!-- Preloader -->
    <div id="preloader">
        <div class="loader-brand">SENNEN</div>
        <div class="text-xs font-mono text-gray-500 mt-4 tracking-widest">INICIALIZANDO SISTEMAS</div>
    </div>

    <!-- Menu Overlay (Full Form AJAX) -->
    <div id="menu-overlay">
        <div class="container mx-auto px-6 py-12 max-w-3xl relative">
            <button class="close-btn p-4 fixed top-4 right-4 md:top-8 md:right-8" onclick="toggleMenu()" aria-label="Cerrar Menú">
                <i data-lucide="x" class="w-8 h-8"></i>
            </button>
            
            <div class="mb-16">
                <h2 class="text-4xl md:text-6xl font-bold font-display mb-4 tracking-tight">Hablemos.</h2>
                <p class="text-gray-400 font-mono text-sm tracking-widest uppercase">Inicia el protocolo de colaboración.</p>
            </div>

            <form id="contact-form" onsubmit="handleContactForm(event)" class="space-y-16">
                <!-- Services -->
                <div class="form-group">
                    <label class="form-label">¿Qué arquitectura necesitas?</label>
                    <div class="flex flex-wrap gap-3">
                        <label class="pill-checkbox">
                            <input type="checkbox" name="services[]" value="Campaña Publicitaria">
                            <span class="pill-label">Campaña Publicitaria</span>
                        </label>
                        <label class="pill-checkbox">
                            <input type="checkbox" name="services[]" value="Producción Audiovisual">
                            <span class="pill-label">Producción Audiovisual</span>
                        </label>
                        <label class="pill-checkbox">
                            <input type="checkbox" name="services[]" value="Estrategia de Marca">
                            <span class="pill-label">Estrategia de Marca</span>
                        </label>
                        <label class="pill-checkbox">
                            <input type="checkbox" name="services[]" value="Contenido IA">
                            <span class="pill-label">Contenido IA</span>
                        </label>
                        <label class="pill-checkbox">
                            <input type="checkbox" name="services[]" value="Otro">
                            <span class="pill-label">Otro</span>
                        </label>
                    </div>
                </div>

                <!-- Budget -->
                <div class="form-group">
                    <label class="form-label">Capacidad de Inversión (EUR)</label>
                    <div class="flex flex-wrap gap-3">
                        <label class="pill-radio">
                            <input type="radio" name="budget" value="10-20k">
                            <span class="pill-label">€10k - 20k</span>
                        </label>
                        <label class="pill-radio">
                            <input type="radio" name="budget" value="20-50k">
                            <span class="pill-label">€20k - 50k</span>
                        </label>
                        <label class="pill-radio">
                            <input type="radio" name="budget" value="50-100k">
                            <span class="pill-label">€50k - 100k</span>
                        </label>
                        <label class="pill-radio">
                            <input type="radio" name="budget" value="100k+">
                            <span class="pill-label">€100k+</span>
                        </label>
                    </div>
                </div>

                <!-- Personal Info -->
                <div class="space-y-12">
                    <div class="relative">
                        <input type="text" name="name" placeholder="Tu nombre" class="input-line" required>
                    </div>
                    <div class="relative">
                        <input type="email" name="email" placeholder="Email corporativo" class="input-line" required>
                    </div>
                    <div class="relative">
                        <textarea name="message" rows="1" placeholder="Detalles del proyecto (opcional)" class="input-line resize-none" oninput="this.style.height = ''; this.style.height = this.scrollHeight + 'px'"></textarea>
                    </div>
                </div>

                <!-- GDPR & Submit -->
                <div class="pt-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-8">
                    <label class="flex items-center gap-3 text-xs text-gray-500 cursor-pointer">
                        <input type="checkbox" required class="accent-white w-4 h-4">
                        <span>Acepto la política de GDPR y privacidad.</span>
                    </label>
                    
                    <button type="submit" id="submit-btn" class="w-full md:w-auto bg-white text-black px-12 py-5 rounded-none font-bold uppercase tracking-widest hover:bg-gray-200 transition-all text-sm disabled:opacity-50 disabled:cursor-not-allowed">
                        Enviar Solicitud
                    </button>
                </div>
                
                <div id="form-response" class="hidden text-center p-4 border border-green-900 bg-green-900/20 text-green-400 font-mono text-sm mt-8">
                    > TRANSMISIÓN COMPLETADA. PROTOCOLO INICIADO.
                </div>
            </form>
        </div>
    </div>

    <!-- Video Modal -->
    <div id="video-modal" class="modal-overlay" onclick="closeModal('video-modal')">
        <button class="close-btn" onclick="closeModal('video-modal')"><i data-lucide="x" class="w-8 h-8"></i></button>
        <div class="w-full h-full md:h-auto md:w-auto flex items-center justify-center relative pointer-events-none">
            <button class="nav-btn nav-prev pointer-events-auto" onclick="event.stopPropagation(); changeVideo(-1)"><i data-lucide="chevron-left"></i></button>
            <button class="nav-btn nav-next pointer-events-auto" onclick="event.stopPropagation(); changeVideo(1)"><i data-lucide="chevron-right"></i></button>
            <div class="modal-content-video pointer-events-auto" onclick="event.stopPropagation()">
                <video id="modal-video-player" controls playsinline class="w-full h-full object-contain bg-black">
                    <source src="" type="video/mp4">
                </video>
            </div>
        </div>
    </div>

    <!-- Nav -->
    <nav class="fixed w-full z-40 top-0 left-0 py-4 transition-all duration-300" id="navbar">
        <div class="w-full px-6 flex justify-between items-center">
            <a href="#" class="text-lg md:text-xl font-bold tracking-tighter mix-blend-difference text-white z-50">sennen.agency</a>
            <button class="menu-btn mix-blend-difference" onclick="toggleMenu()" aria-label="Abrir Menú">
                <div class="flex items-center gap-3">
                    <span class="hidden md:block font-mono text-xs uppercase tracking-widest hover:text-gray-300 transition-colors">Consultar</span>
                    <i data-lucide="menu" class="w-8 h-8"></i>
                </div>
            </button>
        </div>
    </nav>

    <!-- HEADER -->
    <header id="motor" class="section-black relative min-h-screen flex flex-col pt-32 pb-12 items-center overflow-hidden">
        <div class="ambient-glow glow-top-left"></div>
        <div class="ambient-glow glow-top-right"></div>
        <div class="w-full px-4 z-10 flex flex-col items-center text-center">
            <div class="reveal-up">
                <h1 class="hero-title">SENNEN<br>AGENCY</h1>
                <p class="font-mono text-[10px] md:text-sm text-gray-400 uppercase tracking-[0.3em] mt-2 mb-8">RESONANCIA ALGORÍTMICA</p>
            </div>
        </div>
        <div class="dashboard-grid reveal-up">
            <div class="video-card" onclick="openVideoModal(0)"><div class="video-placeholder"><i data-lucide="play" class="text-white opacity-50 w-8 h-8"></i></div><video data-src="video1.mp4" muted loop playsinline preload="none"></video></div>
            <div class="video-card" onclick="openVideoModal(1)"><div class="video-placeholder"><i data-lucide="play" class="text-white opacity-50 w-8 h-8"></i></div><video data-src="video2.mp4" muted loop playsinline preload="none"></video></div>
            <div class="video-card" onclick="openVideoModal(2)"><div class="video-placeholder"><i data-lucide="play" class="text-white opacity-50 w-8 h-8"></i></div><video data-src="video3.mp4" muted loop playsinline preload="none"></video></div>
            <div class="video-card" onclick="openVideoModal(3)"><div class="video-placeholder"><i data-lucide="play" class="text-white opacity-50 w-8 h-8"></i></div><video data-src="video4.mp4" muted loop playsinline preload="none"></video></div>
            <div class="video-card" onclick="openVideoModal(4)"><div class="video-placeholder"><i data-lucide="play" class="text-white opacity-50 w-8 h-8"></i></div><video data-src="video5.mp4" muted loop playsinline preload="none"></video></div>
            <div class="video-card" onclick="openVideoModal(5)"><div class="video-placeholder"><i data-lucide="play" class="text-white opacity-50 w-8 h-8"></i></div><video data-src="video6.mp4" muted loop playsinline preload="none"></video></div>
        </div>
    </header>

    <section id="evidencia" class="section-black min-h-screen flex flex-col items-center justify-center relative z-20 py-20 overflow-hidden render-optimize">
        <div class="ambient-glow glow-middle-right"></div>
        <div class="max-w-[90%] md:max-w-[80%] mx-auto w-full relative z-10">
            <div class="parallax-box mb-24 reveal-up">
                <h2 class="text-4xl md:text-7xl font-bold leading-tight mb-6">Cambio de<br><span class="text-gray-500">Paradigma</span></h2>
                <div class="parallax-quote">"La biología no puede sostener la retención."</div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-24 reveal-up mb-24">
                <div>
                    <p class="text-xl md:text-3xl text-gray-300 font-light leading-snug">No se trata de volumen; se trata de <span class="text-white font-medium border-b border-gray-500">Resonancia Algorítmica</span>. Los activos generados por IA logran tasas de retención superiores.</p>
                </div>
                <div class="grid grid-cols-1 gap-8 border-l border-gray-800 pl-6">
                    <div>
                        <h4 class="text-white font-bold mb-2 text-base uppercase tracking-wider font-display">Dominio de la Atención</h4>
                        <p class="text-sm md:text-base text-gray-500 leading-relaxed">Erradicación de fricción cognitiva y modulación semántica.</p>
                    </div>
                    <div>
                        <h4 class="text-white font-bold mb-2 text-base uppercase tracking-wider font-display">El Nuevo Estándar</h4>
                        <p class="text-sm md:text-base text-gray-500 leading-relaxed">El algoritmo prefiere la consistencia sintética.</p>
                    </div>
                </div>
            </div>
            <div class="photo-grid-section reveal-up">
                <h3 class="text-xs font-mono text-gray-500 mb-8 uppercase tracking-widest border-b border-gray-800 pb-4">Evidencia Visual</h3>
                <div class="photo-grid">
                    <div class="photo-item"><img src="https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?q=80&w=500&auto=format&fit=crop" loading="lazy" decoding="async" alt="Evidencia"></div>
                    <div class="photo-item"><img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?q=80&w=500&auto=format&fit=crop" loading="lazy" decoding="async" alt="Evidencia"></div>
                    <div class="photo-item"><img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?q=80&w=500&auto=format&fit=crop" loading="lazy" decoding="async" alt="Evidencia"></div>
                    <div class="photo-item"><img src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?q=80&w=500&auto=format&fit=crop" loading="lazy" decoding="async" alt="Evidencia"></div>
                    <div class="photo-item"><img src="https://images.unsplash.com/photo-1580489944761-15a19d654956?q=80&w=500&auto=format&fit=crop" loading="lazy" decoding="async" alt="Evidencia"></div>
                    <div class="photo-item"><img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?q=80&w=500&auto=format&fit=crop" loading="lazy" decoding="async" alt="Evidencia"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- VIDEO FULL SCREEN SECTION -->
    <section id="publicidad" class="full-screen-video-section render-optimize reveal-up">
        <!-- Reemplazado por video a pantalla completa -->
        <video data-src="video.mp4" autoplay loop muted playsinline class="lazy-video"></video>
    </section>

    <!-- FOOTER -->
    <footer class="section-black py-20 border-t border-gray-900 relative z-20 overflow-hidden render-optimize">
        <div class="max-w-[85%] mx-auto flex flex-col md:flex-row justify-between items-end relative z-10 reveal-up">
            <div>
                <a href="#" class="text-4xl font-bold tracking-tighter block mb-8 hover:text-gray-400 transition-colors font-display">SENNEN</a>
                <div class="flex gap-6 items-center">
                    <a href="#" class="hover:text-white transition-colors text-gray-600"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                    <div class="h-4 w-px bg-gray-800"></div>
                    <span class="font-mono text-[10px] text-gray-500 uppercase tracking-widest">High-Ticket AI Infrastructure</span>
                </div>
            </div>
            <div class="mt-12 md:mt-0 text-right">
                <div class="font-mono text-[10px] text-gray-500 mb-2">ESTADO: <span class="text-green-500">●</span> EN LÍNEA</div>
                <div class="font-mono text-[10px] text-gray-500">LONDRES • MADRID • BUENOS AIRES</div>
            </div>
        </div>
    </footer>

    <!-- DUST CANVAS -->
    <canvas id="dust-canvas" class="fixed inset-0 pointer-events-none z-[1] opacity-30"></canvas>

    <script>
        const body = document.body;
        
        window.addEventListener('load', () => {
            body.style.opacity = '1';
            const preloader = document.getElementById('preloader');
            preloader.style.opacity = '0';
            setTimeout(() => {
                preloader.style.visibility = 'hidden';
                preloader.style.display = 'none';
            }, 500);
            if(window.lucide) lucide.createIcons();
        });

        const videoSources = ["video1.mp4", "video2.mp4", "video3.mp4", "video4.mp4", "video5.mp4", "video6.mp4"];
        let currentVideoIndex = 0;

        function openVideoModal(index) {
            currentVideoIndex = index;
            const modal = document.getElementById('video-modal');
            const player = document.getElementById('modal-video-player');
            player.src = videoSources[currentVideoIndex]; 
            modal.classList.add('active');
            player.play().catch(e => console.log("Video waiting for interaction"));
        }

        function closeModal(id) {
            document.getElementById(id).classList.remove('active');
            const player = document.getElementById('modal-video-player');
            player.pause();
            player.src = "";
        }

        function changeVideo(dir) {
            currentVideoIndex += dir;
            if(currentVideoIndex >= videoSources.length) currentVideoIndex = 0;
            if(currentVideoIndex < 0) currentVideoIndex = videoSources.length - 1;
            const player = document.getElementById('modal-video-player');
            player.src = videoSources[currentVideoIndex];
            player.play().catch(e => {});
        }

        const config = { rootMargin: '50px 0px', threshold: 0.1 };
        const observer = new IntersectionObserver((entries, self) => {
            entries.forEach(entry => {
                const video = entry.target;
                if (entry.isIntersecting) {
                    if (video.dataset.src && !video.src) {
                        video.src = video.dataset.src;
                        video.load();
                        if(video.parentElement.classList.contains('video-card')) {
                            video.parentElement.classList.add('loaded');
                        }
                    }
                    video.play().catch(e => {});
                } else {
                    video.pause();
                }
            });
        }, config);
        document.querySelectorAll('.dashboard-grid video').forEach(v => observer.observe(v));
        document.querySelectorAll('.lazy-video').forEach(v => observer.observe(v));

        const initAnimations = () => {
            if (typeof gsap !== 'undefined' && typeof ScrollTrigger !== 'undefined') {
                gsap.registerPlugin(ScrollTrigger);
                ScrollTrigger.batch(".reveal-up", {
                    onEnter: batch => gsap.to(batch, {opacity: 1, y: 0, stagger: 0.1, duration: 0.8, ease: "power2.out"}),
                    start: "top 90%"
                });
            }
        };

        const checkGsap = setInterval(() => {
            if (typeof gsap !== 'undefined') {
                initAnimations();
                clearInterval(checkGsap);
            }
        }, 100);

        // --- OPTIMIZED DUST PARTICLES ---
        const canvas = document.getElementById('dust-canvas');
        const ctx = canvas.getContext('2d');
        let width = window.innerWidth;
        let height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;

        const particleCount = window.innerWidth < 768 ? 15 : 40;
        const particles = Array.from({ length: particleCount }, () => ({
            x: Math.random() * width,
            y: Math.random() * height,
            vx: (Math.random() - 0.5) * 0.2,
            vy: (Math.random() - 0.5) * 0.2,
            size: Math.random() * 2
        }));

        function animate() {
            ctx.clearRect(0, 0, width, height);
            ctx.fillStyle = 'rgba(255, 255, 255, 0.15)'; 
            particles.forEach(p => {
                p.x += p.vx; p.y += p.vy;
                if (p.x < 0) p.x = width; if (p.x > width) p.x = 0;
                if (p.y < 0) p.y = height; if (p.y > height) p.y = 0;
                ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2); ctx.fill();
            });
            requestAnimationFrame(animate);
        }
        animate();
        
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            }, 200);
        });

        function toggleMenu() {
            const menu = document.getElementById('menu-overlay');
            const isActive = menu.classList.contains('active');
            if(isActive) {
                menu.classList.remove('active');
                body.style.overflow = '';
            } else {
                menu.classList.add('active');
                body.style.overflow = 'hidden';
            }
        }

        // --- NEW AJAX FORM HANDLER ---
        function handleContactForm(e) {
            e.preventDefault();
            const form = e.target;
            const btn = document.getElementById('submit-btn');
            const originalText = btn.innerText;
            const responseDiv = document.getElementById('form-response');

            // UI Loading State
            btn.innerText = "ENCRIPTANDO Y ENVIANDO...";
            btn.disabled = true;
            btn.style.opacity = "0.7";

            // Gather Data
            const formData = new FormData(form);
            // Append hidden configs manually if not in DOM or needed by formsubmit
            formData.append("_subject", "Nueva Consulta - Sennen Agency");
            formData.append("_template", "table");
            formData.append("_captcha", "false");

            fetch("https://formsubmit.co/ajax/hello@sennen.agency", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                // Success
                btn.style.display = 'none'; // Hide button
                responseDiv.classList.remove('hidden'); // Show success message
                form.reset();
            })
            .catch(error => {
                // Error
                console.error('Error:', error);
                btn.innerText = "ERROR DE CONEXIÓN";
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.disabled = false;
                    btn.style.opacity = "1";
                }, 3000);
            });
        }

        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if(window.scrollY > 50) {
                nav.classList.add('backdrop-blur-md', 'bg-black/50');
            } else {
                nav.classList.remove('backdrop-blur-md', 'bg-black/50');
            }
        });
    </script>
</body>
</html>
